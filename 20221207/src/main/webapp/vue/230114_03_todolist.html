<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¤¸â€â™‚ï¸ToDoListğŸƒâ€â™€ï¸</title>
    <script src="https://unpkg.com/vue@2"></script>
    <style>
        .done-style {
            text-decoration: line-through;
            color: lightgray;
        }

        button {
            display: inline-block;

        }

        /* 
        @font-face {
            font-family: 'Bareun_hipi';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/naverfont_01@1.0/Bareun_hipi.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }

        * {
            font-family: Bareun_hipi;
            font-size: large;
        } */
    </style>
</head>

<body>
    <h2 style="text-align: center;">ğŸ¤¸â€â™‚ï¸ToDoListğŸƒâ€â™€ï¸</h2>
    <div id="app">
        <!--todolist ë“±ë¡í•˜ëŠ” ë©”ì†Œë“œ keyup.enter : ì—”í„° ëˆ„ë¥´ë©´ commit-->
        <input type="text" v-model="addText" v-on:keyup.enter="addTodo" placeholder="Enter ToDoList">
        <input type="text" placeholder="ì™„ë£Œì¼ì(yyyyMMdd)" v-model="doneDate" v-on:keyup.enter="addTodo">
        <div v-for="todo in todos" style="padding-top: 5px;">
            <!--true false ì ìš©ë  ì²´í¬ë°•ìŠ¤-->
            <input type="checkbox" v-model="todo.done">

            <!--ê°’ ë“¤ì–´ì˜¬ span íƒœê·¸-->
            <span v-bind:class="{'done-style': todo.done}">{{todo.text}} (~ {{todo.doneDate}})</span>
        </div>
        <p>ğŸŒ³ ì§„í–‰ìƒí™© : {{remaining}}/{{todos.length}}</p>
        <p><button v-on:click="clearToDo">ì²˜ë¦¬ì™„ë£Œì‚­ì œ</button></p>
        <p><button v-on:click="newDD">ì™„ë£Œì¼ìˆœì •ë ¬</button></p>

    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                todos: [{
                        done: false,
                        text: 'ë·° ê³µë¶€',
                        doneDate: '20230113'
                    },
                    {
                        done: false,
                        text: 'ìë°”ìŠ¤í¬ë¦½íŠ¸ ë³µìŠµ',
                        doneDate: '20200506'
                    },
                    {
                        done: false,
                        text: 'ìë°” ë³µìŠµ',
                        doneDate: '20210821'
                    }

                ],
                addText: '',
                doneDate: ''
            },
            methods: {
                addTodo: function () {
                    if (this.doneDate == "") {
                        alert('ğŸ¦”ì™„ë£Œì¼ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”ğŸŒ¿');
                        document.querySelector('input[placeholder="ì™„ë£Œì¼ì(yyyyMMdd)"').focus();
                        return;
                    } else if (this.addText == "") {
                        alert('ğŸíˆ¬ë‘ë¦¬ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”ğŸ‚')
                        document.querySelector('input[placeholder="Enter ToDoList"').focus();

                        return;
                    }
                    this.todos.push({
                        done: false,
                        text: this.addText,
                        doneDate: this.doneDate
                    })
                    this.addText = ""
                    this.doneDate = ""
                },
                clearToDo: function () {
                    this.todos = this.todos.filter(todo => {
                        return todo.done == false
                    })
                },
                newDD: function () {
                    this.todos.sort(function (a, b) {
                        return parseInt(a.doneDate) - parseInt(b.doneDate)
                    })
                }
            },
            computed: {
                remaining: function () {
                    return this.todos.filter(todo => {
                        return todo.done
                    }).length
                }
            }
        })
    </script>
</body>

</html>